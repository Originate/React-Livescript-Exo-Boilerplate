// Generated by LiveScript 1.5.0
var AppLinter, ref$, cyan, dim, green, red, yaml, Logger, fs, appConfig, logger, x$, appLinter;
AppLinter = require('./app-linter');
ref$ = require('chalk'), cyan = ref$.cyan, dim = ref$.dim, green = ref$.green, red = ref$.red;
yaml = require('js-yaml');
Logger = require('exosphere-shared').Logger;
fs = require('fs');
appConfig = yaml.safeLoad(fs.readFileSync('application.yml', 'utf8'));
console.log("Running linter for " + cyan(appConfig.name) + "\n");
logger = new Logger(Object.keys(appConfig.services));
x$ = appLinter = new AppLinter(appConfig);
x$.on('lint-success', function(){
  return logger.log({
    name: 'exo-lint',
    text: 'Lint passed'
  });
});
x$.on('output', function(data){
  return logger.log(data);
});
x$.on('reset-colors', function(serviceNames){
  return logger.setColors(serviceNames);
});
x$.start();