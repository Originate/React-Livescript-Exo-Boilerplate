// Generated by LiveScript 1.5.0
var cyan, fs, yaml, AppSyncer, Logger, appConfig, x$, logger, ref$, y$, syncer;
cyan = require('chalk').cyan;
fs = require('fs');
yaml = require('js-yaml');
AppSyncer = require('./app-syncer');
Logger = require('exosphere-shared').Logger;
appConfig = yaml.safeLoad(fs.readFileSync('application.yml', 'utf-8'));
x$ = logger = new Logger(Object.keys((ref$ = appConfig.services) != null
  ? ref$
  : {}));
x$.log({
  name: 'exo-sync',
  text: "Syncing application " + cyan(appConfig.name)
});
y$ = syncer = new AppSyncer(appConfig);
y$.on('output', logger.log);
y$.on('sync-failed', function(){
  return logger.log({
    name: 'exo-sync',
    text: "Some services failed to sync"
  });
});
y$.on('sync-success', function(){
  return logger.log({
    name: 'exo-sync',
    text: 'Sync successful'
  });
});
y$.startSyncing();